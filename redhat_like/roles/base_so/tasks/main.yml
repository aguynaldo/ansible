---
# ----------- GERAIS ----------- #
- name: Customiza o /etc/profile
  lineinfile: dest=/etc/profile line={{ item }}
  with_items:
    - '#--- Default export & Alias ---#'
    - 'export HISTTIMEFORMAT="%d/%m/%Y - %H:%M:%S - "'
    - 'export HISTSIZE="5000"'
    - 'export HISTFILESIZE="5000"'
    - 'alias ls="ls -lh --color"'
    - 'alias grep="grep --color"'
    - 'alias vi="vim"'
    - 'alias rm="rm -i"'
    #- '/etc/motd.sh'

- name: Adicionando o arquivo motd
  template:
    src: motd
    dest: /etc/motd
    force: yes
    owner: root
    group: root
    mode: 0755
  notify:
    - Reinicia o SSH

# ----------- Timezone ----------- #
- name: Configura o timezone
  timezone:
    name: "{{ time_zone }}"


# ----------- Pacotes ----------- #
- name: Atualiza os sistemas RedHat based
  dnf: 
    name: "*"
    state: latest 
    update_cache: yes

- name: Instala programas/utilitários de propósito geral
  dnf:
    name: "{{ common_packages_redhat_like }}"
    state: latest
    
# ----------- Firewall ----------- #
- name: Habilita inicialização automática do firewalld 
  systemd: 
    name: firewalld 
    state: reloaded 
    daemon_reload: yes 
    enabled: yes
  
...